(window["webpackJsonpreact-velib"]=window["webpackJsonpreact-velib"]||[]).push([[0],{35:function(e,t,n){e.exports=n(76)},41:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(6),c=n.n(l),o=(n(40),n(41),n(4)),i=n(32),s=n(3),u=n.n(s),m=n(12),d=n(7),p=n(8),h=n(10),E=n(9),f=n(11),b=n(27),v=n.n(b),g=1362;function k(){return v.a.get("https://opendata.paris.fr/api/records/1.0/search/?dataset=velib-disponibilite-en-temps-reel&rows="+g)}var w=function(e){var t=e.activeMarker;return r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Code de la station")),r.a.createElement("td",null,r.a.createElement("span",null,t.codeStation))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Nom de la station")),r.a.createElement("td",null,r.a.createElement("span",null,t.nomStation))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Etat de la station")),r.a.createElement("td",null,r.a.createElement("span",{style:"Operative"===t.etatStation?{color:"green"}:{color:"red"}},t.etatStation))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Nombre de bornes en station")),r.a.createElement("td",null,r.a.createElement("span",null,t.nbBornesTotal))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Nombre de bornes disponibles")),r.a.createElement("td",null,r.a.createElement("span",null,t.nbBornesDisponibles))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Nombre de v\xe9los m\xe9caniques")),r.a.createElement("td",null,r.a.createElement("span",null,t.nbVelosMecaniques))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Nombre de v\xe9los \xe9lectriques")),r.a.createElement("td",null,r.a.createElement("span",null,t.nbVelosElectriques))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Achat possible en station (CB)")),r.a.createElement("td",null,r.a.createElement("span",{style:"no"===t.achatCB?{color:"red"}:{color:"green"}},t.achatCB))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Mis \xe0 jour le")),r.a.createElement("td",null,r.a.createElement("span",null,t.recordTime)))))},M=n(28),y=n(29);function x(){var e=Object(M.a)(["\n  display: flex;\n  align-items: center;\n  color: #888;\n  margin-top: 2rem;\n  margin-left: 20px;\n  .slider {\n    flex: 6;\n    -webkit-appearance: none;\n    width: 100%;\n    height: 15px;\n    border-radius: 5px;\n    background: #efefef;\n    outline: none;\n    &::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      appearance: none;\n      ","\n    }\n    &::-moz-range-thumb {\n      ","\n    }\n  }\n"]);return x=function(){return e},e}var S=function(e){var t=e.color,n=e.opacity;return"\n  width: 25px;\n  height: 25px;\n  background: ".concat(t,";\n  cursor: pointer;\n  outline: 5px solid #333;\n  opacity: ").concat(n,";\n  -webkit-transition: .2s;\n  transition: opacity .2s;\n")},O=y.a.div(x(),function(e){return S(e)},function(e){return S(e)}),j=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.maxMarkers,a=e.value,l=e.onChange;return r.a.createElement(O,{opacity:a>10?a/n:.1,color:t},r.a.createElement("input",{type:"range",min:10,step:10,max:n,value:a,className:"slider",onChange:function(e){return l(e.target.value)}}))}}]),t}(a.Component),C=function(e){return r.a.createElement("svg",Object.assign({width:1024,height:497,viewBox:"-1.692 -1.692 123.233 59.786"},e),r.a.createElement("path",{d:"M23.718 23.378c-.897-.452-1.976-.446-2.623.017l.066-.04-1.472.757-.06.03-.05.046-2.99 2.698c-1.147.761-2.282 1.74-3.38 2.688-1.627 1.407-3.165 2.735-4.596 3.265l-1.493.656c.008-.119.022-.23.044-.302.233-.763.593-3.651.739-5.305l.024-.247c.71-7.205 1.038-11.654-.38-12.696-2.17-1.594-5.004 1.09-5.123 1.204l-.088.084-.861 2.38-.033.09.001.095.022 1.494.108 2.144c-.047.466-.558 5.368-1.348 9.691-.74 4.075.46 9.063 1.925 10.136.763.555 2.13.312 3.094-.15l2.758-1.009.836-.328.058-.023.051-.035 1.517-1.063 1.667-.986 1.08-.674 3.424-2.416c6.276-3.648 7.854-6.248 8.526-8.103.724-1.975.279-3.24-1.443-4.098",fill:"#f7ae00"}),r.a.createElement("path",{d:"M37.559 36.939l-1.543-.385c-1.715-.418-3.1-.878-3.49-1.157-.106-.155-.169-.807-.117-1.23.07-.545 1.347-1.697 1.957-1.622l.055.006 1.94-.189 1.29-.029 1.411.172c.94.119 1.746 1.53 1.66 2.248l-.023.191c-.163 1.435-.448 2.248-1.418 2.157l-1.722-.162zm6.77-7.27c-1.164-1.49-2.858-2.408-4.898-2.657-1.42-.111-2.879-.335-4.217.273-.246.033-1.61.237-2.961.855-1.835.875-4.696 3.366-4.816 3.472l-.094.081-.044.116c-.107.274-1.023 2.648-1.141 3.403l-.941 3.678c-.39.941-.629 1.733-.704 2.35-.133 1.087.438 2.792.503 2.983l.022.063.038.054 2.38 3.514.425.986.051.118.102.078 1.854 1.445c.137.107 3.395 2.629 6.005 2.95.51.06 1.63-.219 1.96-.306l1.333-.405.099-.03.08-.066 1.653-1.402c.08-.06 2.276-1.807 1.551-3.568-.731-1.777-3.279-1.328-3.387-1.308l-.04.007-.04.014-1.689.612-2.122-.074-1.166-.458c-2.28-1.649-3.276-3.285-3.715-4.374-.064-.16.031-.648.44-1.181.19-.245.877-1.036 1.795-.923.944.114 2.151.471 3.43.85 1.534.453 3.12.922 4.63 1.108 1.215.15 2.434-.197 3.432-.976 1.03-.806 1.71-1.993 1.866-3.258.41-3.325-.17-6.1-1.673-8.025",fill:"#009bb7"}),r.a.createElement("path",{d:"M60.856 47.377l-.008-.082-.296-2.822c.003.024-.24-4.54-.257-4.879l.136-3.799.001-.028-.002-.029-.576-7.368.122-2.198.002-.04-.004-.04-.12-1.148.232-6.931v-.048l-.006-.047c-.155-.986-1.04-5.896-3.214-5.692-1.757.169-2.99 1.196-3.22 2.68l-.004.026v.027l-.059 1.164-.336 1.824-.015.078.01.078c.003.022.285 2.172.275 3.09-.023.952-.428 2.465-.433 2.48l-.02.077.004.081.131 2.39-.266 2.496-.005.047.003.046.551 7.066-.55 4.327-.009.075.013.074.285 1.651.235 3.987c.011.608-.146 1.514-.3 2.39-.196 1.127-.4 2.293-.31 3.16.218 2.163 2.188 5.013 3.828 4.856 2.186-.206 3.752-2.936 3.843-5.357l.007-2.178.314-1.404.018-.08",fill:"#dc1681"}),r.a.createElement("path",{d:"M71.457 26.608c1.727-.346 3.265-2.722 2.737-5.385-.352-1.768-1.466-2.65-3.31-2.625l-1.763.141-.207.017-.135.158-1.182 1.392-.062.074-.03.092-.602 1.8-.026.076v.08l-.016 2.01-.001.186 1.128 1.334c.735.877 2.323.986 3.511.64l-.042.01m8.25 22.553l-.723-3.807c-.204-1.107-.426-2.974-.428-2.993l-.004-.024-.004-.023-.298-1.389-1.14-4.784-.58-2.806-.012-.058-.025-.053-.419-.898c-.292-.912-1.244-2.478-2.872-2.134-1.152.242-2.176 1.607-2.374 2.683-.005.031-.206 1.711-.206 1.711l-.202 1.39c-.41 2.999 1.674 8.938 1.912 9.606l.324 2.725c.075.406.064.904.056 1.303-.007.315-.012.563.018.742.298 1.565.752 2.473 1.475 2.953.549.365 1.226.455 2.071.275 2.185-.459 3.342-1.43 3.438-2.887v-1.486l-.008-.046",fill:"#b0b70f"}),r.a.createElement("path",{d:"M119.127 3.751c-.783-1.67-2.078-2.9-3.65-3.46-2.912-1.03-6.823.788-7.896 3.672-.818 2.228-.176 3.82-.149 3.887l.031.075.054.062 1.234 1.42.825.937.05.057.064.04 1.09.665-.894 1.099c-.648.348-2.345 1.33-2.66 2.208-.302.815-.311 1.542-.03 2.156.293.637.888 1.124 1.77 1.45 1.354.507 3.814-1.284 4.36-1.702 1.148-.504 1.74-1.176 2.715-2.037l.023-.027.854-.99 1.117-1.053.063-.06.04-.079c.035-.069.862-1.709 1.351-3.001.586-1.593.45-3.582-.362-5.319",fill:"#b47db1"}),r.a.createElement("path",{d:"M103.222 34.452l-.015.068-.654.967-.035.05-.021.059-.66 1.801c-.419.365-2.373 1.744-2.675 1.88-.974.395-1.972.342-2.959-.157-1.487-.75-2.765-2.474-3.257-4.39-.686-2.687 2.365-5.98 6.526-7.046.545-.14 1.03-.077 1.485.192 1.491.883 2.202 3.669 2.435 4.584l.026.102c.117.443-.086 1.384-.196 1.89zm6.212-4.24c-.476-1.875-1.978-4.552-2.042-4.665l-.023-.039-.028-.034-1.258-1.525-.071-.085-.099-.048-.655-.314-1.196-1.19-.122-.12-1.094-.134c-.81-.374-2.729-1.21-5.28-.56-1.04.267-3.536 1.226-3.642 1.267l-.047.018-.043.028c-.078.05-1.891 1.218-2.804 2.298-.331.418-.535.906-.716 1.336-.118.283-.315.756-.436.815-.224.058-.327.08-.587-.464l-.345-.735-.994-3.495c-.004-.016-.81-2.518-.81-2.518l-.014-.045-.021-.04-.59-1.091-1.589-5.77c-.153-.603-.636-1.043-1.358-1.228-1.228-.316-2.87.165-3.737 1.094-.647.693-.837 1.577-.536 2.487-.005-.013 1.49 4.968 1.49 4.968-.009-.025 1.033 4.264 1.033 4.264l.014.058.027.054.723 1.399 1.664 5.43.021.07.041.062 1.015 1.518 2.004 5.922.02.06.036.055.835 1.27.422 1.654c.207.806.42 1.154.607 1.462.125.203.223.363.321.666.378 1.09.626 2.866.628 2.884l.023.167.118.118c.08.08 1.98 1.967 3.964 1.463 1.081-.27 1.432-1.278 1.741-2.167l.05-.147c.194-.575 1.693-1.557 2.892-1.557 1.366 0 2.86-.912 3.167-1.11l2.533-.864.092-.031.074-.064.931-.807c.666-.36 5.842-3.481 3.651-12.04",fill:"#6793c8"}))},N=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(h.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={maxMarkers:null,rangeMarkers:100,markers:[],filtredMarkers:[],showingInfoWindow:!1,activeMarker:null,selectedPlace:{position:{lat:48.8724200631,lng:2.34839523628}}},n.countStyle={fontSize:"30px"},n.getData=Object(m.a)(u.a.mark(function e(){var t,a,r,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:t=e.sent,a=t.data,r=a.nhits,l=[],a.records.forEach(function(e){if(e.hasOwnProperty("geometry")){var t=e.geometry.coordinates[1],a=e.geometry.coordinates[0],c=new Date(e.record_timestamp).toLocaleDateString(),o=e.fields,i=o.station_code,s=o.station_name,u=o.station_state,m=o.nbedock,d=o.nbfreeedock,p=o.nbbike,h=o.nbebike,E=o.creditcard;l.push({codeStation:i,nomStation:s,position:{lat:t,lng:a},etatStation:u,nbBornesTotal:m,nbBornesDisponibles:d,nbVelosMecaniques:p,nbVelosElectriques:h,achatCB:E,recordTime:c})}n.setState({markers:l,maxMarkers:r})});case 7:case"end":return e.stop()}},e)})),n.onChangeMarkersRange=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({rangeMarkers:t});case 2:return e.next=4,n.getFiltredMarkers();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.getFiltredMarkers=function(){var e=Object(i.a)(n.state.markers).slice(0,n.state.rangeMarkers);n.setState({filtredMarkers:e})},n.onMarkerClick=function(e,t,a){var r=n.state.markers.find(function(e){return e.codeStation===t.uid});Object.assign(t,r),n.setState({activeMarker:t,activePosition:t.position,selectedPlace:e,showingInfoWindow:!0})},n.onMapClicked=function(e){n.state.showingInfoWindow&&n.setState({showingInfoWindow:!1,activeMarker:null})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:return e.next=4,this.getFiltredMarkers();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.filtredMarkers,a=t.maxMarkers,l=t.activeMarker,c=t.selectedPlace,i=t.showingInfoWindow,s=t.rangeMarkers;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"map col-md-4 col-sm-6 col-xs-12"},r.a.createElement(o.Map,{onClick:this.onMapClicked,google:this.props.google,zoom:12,initialCenter:{lat:c.position.lat,lng:c.position.lng}},n.map(function(t){return r.a.createElement(o.Marker,{uid:t.codeStation,key:t.codeStation,name:t.nomStation,position:t.position,onClick:e.onMarkerClick,opacity:.3})}),r.a.createElement(o.InfoWindow,{marker:l,visible:i},r.a.createElement("div",null,r.a.createElement("h6",null,c.name))))),r.a.createElement("div",{id:"infos",className:"col text-center"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 mt-4"},r.a.createElement("h4",{className:"text-nowrap"},r.a.createElement("span",{style:this.countStyle},s)," marqueurs de stations ",r.a.createElement(C,{width:"70px",height:"70px"})," sur"," ",r.a.createElement("span",{style:this.countStyle},a)," vont s'afficher sur la carte, cliquez dessus !"),r.a.createElement(j,{onChange:this.onChangeMarkersRange,maxMarkers:a,value:s,color:"red"})),r.a.createElement("div",{className:"col tableInfos"},l?r.a.createElement(w,{activeMarker:l}):null))))}}]),t}(a.Component),B=(n(75),Object(o.GoogleApiWrapper)({apiKey:"AIzaSyD7fqhPuLV6HNyLtwQnKB8WMQyuAbME45g"})(N));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.ec34dc16.chunk.js.map