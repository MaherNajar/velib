(window["webpackJsonpreact-velib"]=window["webpackJsonpreact-velib"]||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/bicycle.4f7f60d5.svg"},30:function(e,t,a){e.exports=a.p+"static/media/wheel_spin.917cf696.mp3"},31:function(e,t,a){e.exports=a.p+"static/media/road.5dd59a09.jpg"},38:function(e,t,a){e.exports=a(79)},44:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(6),i=a.n(l),c=(a(43),a(44),a(4)),s=a(35),o=a(3),m=a.n(o),u=a(12),p=a(7),d=a(8),f=a(10),E=a(9),b=a(11),g=a(27),h=a.n(g),y=1362;function v(){return h.a.get("https://opendata.paris.fr/api/records/1.0/search/?dataset=velib-disponibilite-en-temps-reel&rows="+y)}var k=function(e){var t=e.activeMarker;return r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Code de la station")),r.a.createElement("td",null,r.a.createElement("span",null,t.codeStation))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Nom de la station")),r.a.createElement("td",null,r.a.createElement("span",null,t.nomStation))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Etat de la station")),r.a.createElement("td",null,r.a.createElement("span",{style:"Operative"===t.etatStation?{color:"green"}:{color:"red"}},t.etatStation))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Nombre de bornes en station")),r.a.createElement("td",null,r.a.createElement("span",null,t.nbBornesTotal))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Nombre de bornes disponibles")),r.a.createElement("td",null,r.a.createElement("span",null,t.nbBornesDisponibles))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Nombre de v\xe9los m\xe9caniques")),r.a.createElement("td",null,r.a.createElement("span",null,t.nbVelosMecaniques))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Nombre de v\xe9los \xe9lectriques")),r.a.createElement("td",null,r.a.createElement("span",null,t.nbVelosElectriques))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Achat possible en station (CB)")),r.a.createElement("td",null,r.a.createElement("span",{style:"no"===t.achatCB?{color:"red"}:{color:"green"}},t.achatCB))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null," Mis \xe0 jour le")),r.a.createElement("td",null,r.a.createElement("span",null,t.recordTime)))))},w=a(28),M=a(29),C=a.n(M),x=a(30),N=a.n(x),T=a(32),O=a(31),S=a.n(O);function j(){var e=Object(w.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: 20px;\n  margin-right: 20px;\n  .slider {\n    flex: 6;\n    -webkit-appearance: none;\n    background: center/100% url(",");\n    border-radius: 10px;\n    &::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      appearance: none;\n      ","\n    }\n    &::-moz-range-thumb {\n      ","\n    }\n  }\n"]);return j=function(){return e},e}var B=function(e){var t=e.opacity;return"\n  width: 150px;\n  height: 80px;\n  background: no-repeat center url(".concat(C.a,") transparent;\n  cursor: pointer;\n  opacity: ").concat(t,";\n  -webkit-transition: .2s;\n  transition: opacity .2s;\n")},A=T.a.div(j(),S.a,function(e){return B(e)},function(e){return B(e)}),I=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).playAudio=function(){document.getElementById("audio").play()},a.stopAudio=function(){document.getElementById("audio").pause()},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.maxMarkers,a=e.value,n=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{opacity:a>400?a/t:.2},r.a.createElement("input",{type:"range",min:10,step:10,max:t,value:a,className:"slider",onMouseDown:this.playAudio,onMouseUp:this.stopAudio,onChange:function(e){return n(e.target.value)}}),r.a.createElement("audio",{loop:!0,id:"audio",src:N.a})))}}]),t}(n.Component),q=function(e){return r.a.createElement("svg",Object.assign({width:1024,height:497,viewBox:"-1.692 -1.692 123.233 59.786"},e),r.a.createElement("path",{d:"M23.718 23.378c-.897-.452-1.976-.446-2.623.017l.066-.04-1.472.757-.06.03-.05.046-2.99 2.698c-1.147.761-2.282 1.74-3.38 2.688-1.627 1.407-3.165 2.735-4.596 3.265l-1.493.656c.008-.119.022-.23.044-.302.233-.763.593-3.651.739-5.305l.024-.247c.71-7.205 1.038-11.654-.38-12.696-2.17-1.594-5.004 1.09-5.123 1.204l-.088.084-.861 2.38-.033.09.001.095.022 1.494.108 2.144c-.047.466-.558 5.368-1.348 9.691-.74 4.075.46 9.063 1.925 10.136.763.555 2.13.312 3.094-.15l2.758-1.009.836-.328.058-.023.051-.035 1.517-1.063 1.667-.986 1.08-.674 3.424-2.416c6.276-3.648 7.854-6.248 8.526-8.103.724-1.975.279-3.24-1.443-4.098",fill:"#f7ae00"}),r.a.createElement("path",{d:"M37.559 36.939l-1.543-.385c-1.715-.418-3.1-.878-3.49-1.157-.106-.155-.169-.807-.117-1.23.07-.545 1.347-1.697 1.957-1.622l.055.006 1.94-.189 1.29-.029 1.411.172c.94.119 1.746 1.53 1.66 2.248l-.023.191c-.163 1.435-.448 2.248-1.418 2.157l-1.722-.162zm6.77-7.27c-1.164-1.49-2.858-2.408-4.898-2.657-1.42-.111-2.879-.335-4.217.273-.246.033-1.61.237-2.961.855-1.835.875-4.696 3.366-4.816 3.472l-.094.081-.044.116c-.107.274-1.023 2.648-1.141 3.403l-.941 3.678c-.39.941-.629 1.733-.704 2.35-.133 1.087.438 2.792.503 2.983l.022.063.038.054 2.38 3.514.425.986.051.118.102.078 1.854 1.445c.137.107 3.395 2.629 6.005 2.95.51.06 1.63-.219 1.96-.306l1.333-.405.099-.03.08-.066 1.653-1.402c.08-.06 2.276-1.807 1.551-3.568-.731-1.777-3.279-1.328-3.387-1.308l-.04.007-.04.014-1.689.612-2.122-.074-1.166-.458c-2.28-1.649-3.276-3.285-3.715-4.374-.064-.16.031-.648.44-1.181.19-.245.877-1.036 1.795-.923.944.114 2.151.471 3.43.85 1.534.453 3.12.922 4.63 1.108 1.215.15 2.434-.197 3.432-.976 1.03-.806 1.71-1.993 1.866-3.258.41-3.325-.17-6.1-1.673-8.025",fill:"#009bb7"}),r.a.createElement("path",{d:"M60.856 47.377l-.008-.082-.296-2.822c.003.024-.24-4.54-.257-4.879l.136-3.799.001-.028-.002-.029-.576-7.368.122-2.198.002-.04-.004-.04-.12-1.148.232-6.931v-.048l-.006-.047c-.155-.986-1.04-5.896-3.214-5.692-1.757.169-2.99 1.196-3.22 2.68l-.004.026v.027l-.059 1.164-.336 1.824-.015.078.01.078c.003.022.285 2.172.275 3.09-.023.952-.428 2.465-.433 2.48l-.02.077.004.081.131 2.39-.266 2.496-.005.047.003.046.551 7.066-.55 4.327-.009.075.013.074.285 1.651.235 3.987c.011.608-.146 1.514-.3 2.39-.196 1.127-.4 2.293-.31 3.16.218 2.163 2.188 5.013 3.828 4.856 2.186-.206 3.752-2.936 3.843-5.357l.007-2.178.314-1.404.018-.08",fill:"#dc1681"}),r.a.createElement("path",{d:"M71.457 26.608c1.727-.346 3.265-2.722 2.737-5.385-.352-1.768-1.466-2.65-3.31-2.625l-1.763.141-.207.017-.135.158-1.182 1.392-.062.074-.03.092-.602 1.8-.026.076v.08l-.016 2.01-.001.186 1.128 1.334c.735.877 2.323.986 3.511.64l-.042.01m8.25 22.553l-.723-3.807c-.204-1.107-.426-2.974-.428-2.993l-.004-.024-.004-.023-.298-1.389-1.14-4.784-.58-2.806-.012-.058-.025-.053-.419-.898c-.292-.912-1.244-2.478-2.872-2.134-1.152.242-2.176 1.607-2.374 2.683-.005.031-.206 1.711-.206 1.711l-.202 1.39c-.41 2.999 1.674 8.938 1.912 9.606l.324 2.725c.075.406.064.904.056 1.303-.007.315-.012.563.018.742.298 1.565.752 2.473 1.475 2.953.549.365 1.226.455 2.071.275 2.185-.459 3.342-1.43 3.438-2.887v-1.486l-.008-.046",fill:"#b0b70f"}),r.a.createElement("path",{d:"M119.127 3.751c-.783-1.67-2.078-2.9-3.65-3.46-2.912-1.03-6.823.788-7.896 3.672-.818 2.228-.176 3.82-.149 3.887l.031.075.054.062 1.234 1.42.825.937.05.057.064.04 1.09.665-.894 1.099c-.648.348-2.345 1.33-2.66 2.208-.302.815-.311 1.542-.03 2.156.293.637.888 1.124 1.77 1.45 1.354.507 3.814-1.284 4.36-1.702 1.148-.504 1.74-1.176 2.715-2.037l.023-.027.854-.99 1.117-1.053.063-.06.04-.079c.035-.069.862-1.709 1.351-3.001.586-1.593.45-3.582-.362-5.319",fill:"#b47db1"}),r.a.createElement("path",{d:"M103.222 34.452l-.015.068-.654.967-.035.05-.021.059-.66 1.801c-.419.365-2.373 1.744-2.675 1.88-.974.395-1.972.342-2.959-.157-1.487-.75-2.765-2.474-3.257-4.39-.686-2.687 2.365-5.98 6.526-7.046.545-.14 1.03-.077 1.485.192 1.491.883 2.202 3.669 2.435 4.584l.026.102c.117.443-.086 1.384-.196 1.89zm6.212-4.24c-.476-1.875-1.978-4.552-2.042-4.665l-.023-.039-.028-.034-1.258-1.525-.071-.085-.099-.048-.655-.314-1.196-1.19-.122-.12-1.094-.134c-.81-.374-2.729-1.21-5.28-.56-1.04.267-3.536 1.226-3.642 1.267l-.047.018-.043.028c-.078.05-1.891 1.218-2.804 2.298-.331.418-.535.906-.716 1.336-.118.283-.315.756-.436.815-.224.058-.327.08-.587-.464l-.345-.735-.994-3.495c-.004-.016-.81-2.518-.81-2.518l-.014-.045-.021-.04-.59-1.091-1.589-5.77c-.153-.603-.636-1.043-1.358-1.228-1.228-.316-2.87.165-3.737 1.094-.647.693-.837 1.577-.536 2.487-.005-.013 1.49 4.968 1.49 4.968-.009-.025 1.033 4.264 1.033 4.264l.014.058.027.054.723 1.399 1.664 5.43.021.07.041.062 1.015 1.518 2.004 5.922.02.06.036.055.835 1.27.422 1.654c.207.806.42 1.154.607 1.462.125.203.223.363.321.666.378 1.09.626 2.866.628 2.884l.023.167.118.118c.08.08 1.98 1.967 3.964 1.463 1.081-.27 1.432-1.278 1.741-2.167l.05-.147c.194-.575 1.693-1.557 2.892-1.557 1.366 0 2.86-.912 3.167-1.11l2.533-.864.092-.031.074-.064.931-.807c.666-.36 5.842-3.481 3.651-12.04",fill:"#6793c8"}))},W=function(e){return r.a.createElement("svg",Object.assign({className:"loading_spinner_svg__lds-spin",width:70,height:70,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",style:{background:"0 0"}},e),r.a.createElement("g",{transform:"translate(80 50)"},r.a.createElement("circle",{r:10,fill:"#cb3e91",transform:"scale(1.05253)"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.875s",values:"1.1 1.1;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.875s"}))),r.a.createElement("g",{transform:"rotate(45 -50.355 121.569)"},r.a.createElement("circle",{r:10,fill:"#cb3e91",fillOpacity:.875,transform:"scale(1.06503)"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.75s",values:"1.1 1.1;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.75s"}))),r.a.createElement("g",{transform:"rotate(90 -15 65)"},r.a.createElement("circle",{r:10,fill:"#cb3e91",fillOpacity:.75,transform:"scale(1.07753)"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.625s",values:"1.1 1.1;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.625s"}))),r.a.createElement("g",{transform:"rotate(135 -.355 41.569)"},r.a.createElement("circle",{r:10,fill:"#cb3e91",fillOpacity:.625,transform:"scale(1.09003)"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.5s",values:"1.1 1.1;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.5s"}))),r.a.createElement("g",{transform:"rotate(180 10 25)"},r.a.createElement("circle",{r:10,fill:"#cb3e91",fillOpacity:.5,transform:"scale(1.00253)"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.375s",values:"1.1 1.1;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.375s"}))),r.a.createElement("g",{transform:"rotate(-135 20.355 8.431)"},r.a.createElement("circle",{r:10,fill:"#cb3e91",fillOpacity:.375,transform:"scale(1.01503)"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.25s",values:"1.1 1.1;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.25s"}))),r.a.createElement("g",{transform:"rotate(-90 35 -15)"},r.a.createElement("circle",{r:10,fill:"#cb3e91",fillOpacity:.25,transform:"scale(1.02753)"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.125s",values:"1.1 1.1;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.125s"}))),r.a.createElement("g",{transform:"rotate(-45 70.355 -71.569)"},r.a.createElement("circle",{r:10,fill:"#cb3e91",fillOpacity:.125,transform:"scale(1.04003)"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",values:"1.1 1.1;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"0s"}))))},D=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={maxMarkers:null,rangeMarkers:480,markers:[],filtredMarkers:[],showingInfoWindow:!1,activeMarker:null,selectedPlace:{position:{lat:48.8724200631,lng:2.34839523628}}},a.countStyle={fontSize:"30px"},a.getData=Object(u.a)(m.a.mark(function e(){var t,n,r,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,n=t.data,r=n.nhits,l=[],n.records.forEach(function(e){if(e.hasOwnProperty("geometry")){var t=e.geometry.coordinates[1],n=e.geometry.coordinates[0],i=new Date(e.record_timestamp).toLocaleDateString(),c=e.fields,s=c.station_code,o=c.station_name,m=c.station_state,u=c.nbedock,p=c.nbfreeedock,d=c.nbbike,f=c.nbebike,E=c.creditcard;l.push({codeStation:s,nomStation:o,position:{lat:t,lng:n},etatStation:m,nbBornesTotal:u,nbBornesDisponibles:p,nbVelosMecaniques:d,nbVelosElectriques:f,achatCB:E,recordTime:i})}a.setState({markers:l,maxMarkers:r})});case 7:case"end":return e.stop()}},e)})),a.onChangeMarkersRange=function(){var e=Object(u.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({rangeMarkers:t});case 2:return e.next=4,a.getFiltredMarkers();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getFiltredMarkers=function(){var e=Object(s.a)(a.state.markers).slice(0,a.state.rangeMarkers);a.setState({filtredMarkers:e})},a.onMarkerClick=function(e,t,n){var r=a.state.markers.find(function(e){return e.codeStation===t.uid});Object.assign(t,r),a.setState({activeMarker:t,selectedPlace:e,showingInfoWindow:!0})},a.onMapClicked=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:return e.next=4,this.getFiltredMarkers();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.filtredMarkers,n=t.maxMarkers,l=t.activeMarker,i=t.selectedPlace,s=t.showingInfoWindow,o=t.rangeMarkers,m=this.props.google;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"map col-md-4 col-sm-6 col-xs-12"},r.a.createElement(c.Map,{onClick:this.onMapClicked,google:m,zoom:12,initialCenter:{lat:i.position.lat,lng:i.position.lng}},a.map(function(t){return r.a.createElement(c.Marker,{uid:t.codeStation,key:t.codeStation,name:t.nomStation,title:t.nomStation,position:t.position,onClick:e.onMarkerClick,opacity:.3})}),r.a.createElement(c.InfoWindow,{marker:l,visible:s},r.a.createElement("div",null,r.a.createElement("h6",null,i.name))))),r.a.createElement("div",{id:"infos",className:"col text-center"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 mt-4"},r.a.createElement("h4",null,0===a.length?r.a.createElement(W,{style:{marginRight:"5px"}}):null,r.a.createElement("span",{style:this.countStyle},o)," marqueurs de stations ",r.a.createElement(q,{width:"70px",height:"70px"})," sur"," ",r.a.createElement("span",{style:this.countStyle},n)," vont s'afficher sur la carte, faites deplacer le v\xe9lo !"),r.a.createElement(I,{onChange:this.onChangeMarkersRange,maxMarkers:n,value:o})),r.a.createElement("div",{className:"col tableInfos"},l?r.a.createElement(k,{activeMarker:l}):r.a.createElement("h4",{style:{marginTop:"200px"}},"Cliquez sur un marqueur pour afficher les disponibilit\xe9s en temps r\xe9el !")))))}}]),t}(n.Component),_=(a(78),Object(c.GoogleApiWrapper)({apiKey:"AIzaSyD7fqhPuLV6HNyLtwQnKB8WMQyuAbME45g"})(D));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.a413c278.chunk.js.map