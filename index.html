<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Utiliser des API</title>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Merienda" rel="stylesheet">

</head>

<body>

        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" id="map"></div>

        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" id="display">
              <p><h2>Détails de la station</h2></p></br>
              <p><span id="status"></span><button id="book" data-toggle="modal" data-backdrop="false"   href="#formulaire" class="btn btn-primary">Réserver</button></p>
              <p><span class="details">Nom de la station</span> : <span id="name"></span></p>
              <p><span class="details">Adresse station</span> : <span id="address"></span></p>
              <p><span class="details">Places disponibles</span> : <span id="stands"></span></p>
              <p><span class="details">Vélos disponibles</span> : <span id="bikes"></span></p>
        <!-- <p><span class="details">Position (latitude)</span> : <span id="latitude"></span></p>
             <p><span class= 'details'>Position (longitude)</span> : <span id="longitude"></span></p>-->
             <p><span class="details">Mis à jour le</span> : <span id="update"></span></p>
             <p><span class="details">Nombres de stations</span> : <span><input type="text" class="form-control input-xs" placeholder="(1231 max)" id="number"></span></p>

        </div>
           
      <div class="modal fade" id="formulaire">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">x</button>
              <h4 class="modal-title">Vos infos :</h4>
            </div>
            <div class="modal-body">
              <form action="booking.php">
                <div class="form-group">
                  <label for="nom">Nom</label>
                  <input type="text" class="form-control" name ="nom" id="nom" placeholder="Votre nom">
                </div>
                <div class="form-group">
                  <label for="email">Email</label>
                  <input type="email" class="form-control" name="email" id="email" placeholder="Votre Email">
                </div>
                <button type="submit" class="btn btn-default">Réserver</button>
              </form>
            </div>
            <div class="modal-footer">
              <button class="btn btn-info" data-dismiss="modal">Annuler</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
        <div class="col-lg-12">
               <div id="html">   
        </div>
    
</body>
    <script src="ajax.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="project.js"></script>
    <script src="functions.js"></script>
    <script async defer
       src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD7fqhPuLV6HNyLtwQnKB8WMQyuAbME45g&callback=initMap">
    </script>
    <script type="text/javascript">
     $(function(){
        $("form").submit(function(e) {
          e.preventDefault();
          var $form = $(this);
          $.post($form.attr("action"), $form.serialize())
          .done(function(data) {
            $("#html").html(data).focus();
            $("#formulaire").modal("hide"); 

          })
          .fail(function() {
            alert("ça marche pas...");
          });
        });
      });
    </script>

</html>